# 维修/保养工单

维修/保养工单用于记录资产的故障报修、维修处理、保养执行与费用沉淀。

## 1) 工单类型与状态

类型（Type）：
- 1=报修
- 2=保养

状态（Status）：
- 0=草稿
- 1=待受理
- 2=已指派
- 3=处理中
- 4=已完成
- 5=已关闭
- 6=已取消

优先级（Priority）：
- 1=高
- 2=中
- 3=低

## 2) 主要字段说明

| 字段 | 含义 |
|---|---|
| 工单号（OrderNo） | 工单编号 |
| 类型（Type） | 报修/保养 |
| 状态（Status） | 工单流转状态 |
| 资产Id（AssetId） | 必须关联资产 |
| 标题（Title） | 问题概述/保养主题 |
| 描述（Description） | 故障现象/保养内容 |
| 报修人（ReportUserId） | 报修发起人 |
| 报修时间（ReportTime） | 发起时间 |
| 指派人（AssignUserId） | 负责人/维修人员 |
| 指派时间（AssignTime） | 指派时间 |
| 供应商（VendorId） | 外协维修可选 |
| 开始/完成时间（StartTime/FinishTime） | 处理过程 |
| 费用（Cost） | 费用沉淀，便于统计 |
| 结果（Result） | 处理结果/结论 |

## 3) 推荐流程

```mermaid
flowchart LR
  A[报修/创建工单] --> B[待受理]
  B --> C[指派负责人]
  C --> D[处理中]
  D --> E[完成/登记费用与结果]
  E --> F[关闭归档]
```

## 4) 与其它模块的关系

- 资产台账：工单必须关联资产；建议工单处理期间将资产状态标记为“维修”（具体看你们制度/系统联动）
- 供应商：外协维修时选择供应商
- 提醒：可对“定期保养到期”生成提醒（通常来自保养计划/规则）
- 资产留痕：工单新增/修改/删除应写入留痕（BizType=MAINTENANCE）

